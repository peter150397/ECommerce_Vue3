import{o as l,c as d,b as e,d as $,r as m,g as c,h as v,f as _,n as p,F as b,i as x,t as k}from"./index-d0db1e09.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";const A={methods:{signOut(){const t="https://vue-course-api.hexschool.io/logout";this.$http.post(t).then(s=>{s.data.success?this.$router.push("/login"):this.$mittBus.emit("message:push",{message:res.data.message,status:"danger"})})}}},y={class:"navbar navbar-dark bg-dark flex-md-nowrap py-3"},w=e("p",{class:"navbar-brand col-md-3 col-lg-2 m-0 px-3"},"Peter's Ecommerce",-1),M={class:"navbar-nav"},C={class:"nav-item text-nowrap"};function N(t,s,n,u,i,a){return l(),d("div",null,[e("header",y,[w,e("div",M,[e("div",C,[e("a",{class:"nav-link px-3",href:"#",onClick:s[0]||(s[0]=$((...o)=>a.signOut&&a.signOut(...o),["prevent"]))},"Sign out")])])])])}const S=h(A,[["render",N]]);const B={data(){return{isActive:"products"}},methods:{active(t){this.isActive=t}}},T={id:"sidebarMenu",class:"col-md-3 col-lg-2 d-md-block bg-light"},V={class:"pt-3 fw-bold"},R=e("h5",{class:"px-3 my-4 text-muted fw-bold"},"管理員",-1),D={class:"nav flex-column"},E=e("h5",{class:"px-3 my-4 text-muted fw-bold"},"模擬功能",-1),L={class:"nav flex-column"};function O(t,s,n,u,i,a){const o=m("RouterLink");return l(),d("nav",T,[e("div",V,[R,e("ul",D,[e("li",{onClick:s[0]||(s[0]=r=>a.active("products"))},[c(o,{class:p(["nav-link",{Active:i.isActive=="products"}]),to:"/admin/products"},{default:v(()=>[_("產品列表")]),_:1},8,["class"])]),e("li",{onClick:s[1]||(s[1]=r=>a.active("orders"))},[c(o,{class:p(["nav-link",{Active:i.isActive=="orders"}]),to:"/admin/orders"},{default:v(()=>[_("訂單列表")]),_:1},8,["class"])]),e("li",{onClick:s[2]||(s[2]=r=>a.active("coupons"))},[c(o,{class:p(["nav-link",{Active:i.isActive=="coupons"}]),to:"/admin/coupons"},{default:v(()=>[_("優惠券")]),_:1},8,["class"])])]),E,e("ul",L,[e("li",{onClick:s[3]||(s[3]=r=>a.active("customer"))},[c(o,{class:p(["nav-link",{Active:i.isActive=="customer"}]),to:"/admin/customer"},{default:v(()=>[_("模擬訂單")]),_:1},8,["class"])])])])])}const z=h(B,[["render",O]]);const F={name:"Navbar",data(){return{messages:[]}},methods:{updateMessage(t,s){const n=Math.floor(new Date/1e3);this.messages.push({message:t,status:s,timestamp:n}),this.removeMessageWithTiming(n)},removeMessageWithTiming(t){const s=this;setTimeout(()=>{s.messages.forEach((n,u)=>{n.timestamp===t&&s.messages.splice(u,1)})},5e3)}},created(){const t=this;t.$mittBus.on("message:push",s=>{t.updateMessage(s.message,s.status)})}},W={class:"message-alert"},P=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1);function j(t,s,n,u,i,a){return l(),d("div",W,[(l(!0),d(b,null,x(i.messages,(o,r)=>(l(),d("div",{class:p(["alert alert-dismissible","alert-"+o.status]),key:r},[_(k(o.message)+" ",1),P],2))),128))])}const q=h(F,[["render",j]]),G={components:{Navbar:S,Sidebar:z,AlertMessage:q},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t}},H={class:"container-fluid"},I={class:"row"},J={class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",style:{left:"250px"}};function K(t,s,n,u,i,a){const o=m("Navbar"),r=m("AlertMessage"),g=m("Sidebar"),f=m("RouterView");return l(),d("div",null,[c(o),c(r),e("div",H,[e("div",I,[c(g),e("main",J,[c(f)])])])])}const X=h(G,[["render",K]]);export{X as default};
